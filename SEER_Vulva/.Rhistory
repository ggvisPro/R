library(tidyverse)
df <- read.csv('export.csv')
df
library(tidyverse)
df <- read_csv('export.csv')
df
df |> count(`Race recode (W, B, AI, API)`)
View(df)
df |> janitor::clean_names()
df |> janitor::clean_names() |> sex
df |> janitor::clean_names() |> count(Sex)
df |> janitor::clean_names() |> count(sex)
source("~/Desktop/R/SEER_Vulva/names.R", echo=TRUE)
data |> filter(`序号` != "序号")
data |>
filter(`序号` != "序号") |>
count(`拟录取院系`)
data |>
filter(`序号` != "序号") |>
count(`拟录取院系`) |>
arrange(desc(n))
data |>
filter(`序号` != "序号") |>
count(`拟录取院系`) |>
arrange(desc(n)) |>
glimpse()
data2 <- data |>
filter(`序号` != "序号") |>
count(`拟录取院系`) |>
arrange(desc(n))
View(data2)
data2 <- data |>
filter(`序号` != "序号") |>
filter(ends_with(`拟录取院系`, "医院") ) |>
count(`拟录取院系`) |>
arrange(desc(n))
data2 <- data |>
filter(`序号` != "序号") |>
filter(str_ends(`拟录取院系`, "医院") ) |>
count(`拟录取院系`) |>
arrange(desc(n))
View(data2)
data |>
filter(`序号` != "序号") |>
filter(str_ends(`拟录取院系`, "医院") ) |>
count(`拟录取院系`) |>
arrange(desc(n)) |>
head(20)
source("~/Desktop/R/SEER_Vulva/names.R", echo=TRUE)
data |>
filter(`序号` != "序号") |>
count(`拟录取专业`) |>
arrange(desc(n))
source("~/Desktop/R/SEER_Vulva/names.R", echo=TRUE)
source("~/Desktop/R/SEER_Vulva/names.R", echo=TRUE)
source("~/Desktop/R/SEER_Vulva/names.R", echo=TRUE)
source("~/Desktop/R/SEER_Vulva/names.R", echo=TRUE)
source("~/Desktop/R/SEER_Vulva/names.R", echo=TRUE)
source("~/Desktop/R/SEER_Vulva/names.R", echo=TRUE)
# Load the data
data <- read_excel("data.xlsx") |> filter(`序号` != "序号")
data |> group_by(学位类型) |> count(`拟录取专业` == "口腔")
data |> group_by(学位类型) |> filter(`拟录取专业` == "口腔")
data |> filter(`拟录取专业` == "口腔") |> count(`学位类型`)
data |> filter(`拟录取专业` == "口腔医学") |> count(`学位类型`)
source("~/Desktop/R/SEER_Vulva/names.R", echo=TRUE)
source("~/Desktop/R/SEER_Vulva/names.R", echo=TRUE)
data <- read_excel("plan.xlsx") |> filter(`序号` != "序号")
source("~/.active-rstudio-document", echo=TRUE)
data |> glimpse()
data |> count(`招生类型`)
data |> sum(招生人数)
data |> sum(`招生人数`)
sum(data$招生人数)
sum(data$`招生人数`)
data |> count(`招生人数`)
data <- data |>
mutate(`招生人数` = as.numeric(`招生人数`)) |>
summarise(total = sum(`招生人数`, na.rm = TRUE))
data <- read_excel("plan.xlsx") |> filter(`序号` != "序号")
data |>
mutate(`招生人数` = as.numeric(`招生人数`)) |>
summarise(total = sum(`招生人数`, na.rm = TRUE))
source("~/.active-rstudio-document", echo=TRUE)
source("~/.active-rstudio-document", echo=TRUE)
source("~/.active-rstudio-document", echo=TRUE)
source("~/.active-rstudio-document", echo=TRUE)
data |>
mutate(`招生人数` = as.numeric(`招生人数`)) |>
filter(`招生类型` == "◆") |>
count(`三级学科`) |>
slice_head(n = 30) |>
ggplot(aes(x = reorder(`三级学科`, n), y = n)) +
geom_bar(stat = "identity", fill = "steelblue") +
coord_flip() +
theme_minimal() +
labs(x = "三级学科",
y = "招生人数",
title = "三级学科招生人数Top30") +
theme(
text = element_text(family = "PingFang SC"),  # 使用苹方字体
axis.text.y = element_text(size = 8),
plot.title = element_text(hjust = 0.5)
)
source("~/.active-rstudio-document", echo=TRUE)
source("~/.active-rstudio-document", echo=TRUE)
source("~/.active-rstudio-document", echo=TRUE)
source("~/.active-rstudio-document", echo=TRUE)
library(tidyverse)
library(readxl)
data <- read_excel("plan.xlsx") |> filter(`序号` != "序号")
data |>
mutate(`招生人数` = as.numeric(`招生人数`)) |>
#  filter(`招生类型` == "◆") |>
count(`三级学科`, wt = `招生人数`) |>
slice_head(n = 30) |>
ggplot(aes(x = reorder(`三级学科`, n), y = n)) +
geom_bar(stat = "identity", fill = "blue") +
coord_flip() +
theme_minimal() +
labs(x = "三级学科",
y = "招生人数",
title = "三级学科招生人数Top30") +
theme(
text = element_text(family = "PingFang SC"),  # 使用苹方字体
axis.text.y = element_text(size = 8),
plot.title = element_text(hjust = 0.5)
)
